/*****************************************************************************
    Copied and simplified from styles/docs.css -- eventually would like to
    figure out a good system for creating a single source of truth for these
    styles, the docs styles, and the blog styles
*****************************************************************************/

.code-block {
  & code,
  & pre {
    word-wrap: normal;
    @apply overflow-auto p-3 text-sm leading-none md:p-4;
  }

  & pre {
    @apply border border-gray-100 leading-relaxed dark:border-gray-800;
  }

  & code {
    @apply text-gray-700 dark:text-gray-300;
  }

  & pre > code {
    @apply m-0 whitespace-pre break-normal border-0 bg-transparent p-0;
  }

  & .codeblock-line {
    @apply relative block pr-4;
  }

  & pre code {
    display: grid;
    max-width: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    line-height: inherit;
    word-wrap: normal;
    background-color: initial;
    border: 0;
    border-radius: initial;
  }

  & [data-code-block-copy] {
    @apply absolute right-4 top-[1.125rem] h-5 w-5 cursor-pointer bg-gray-500 opacity-0 hover:bg-black dark:bg-gray-400 dark:hover:bg-gray-100;
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='9' y='9' width='13' height='13' rx='2' ry='2' vector-effect='non-scaling-stroke'%3E%3C/rect%3E%3Cpath d='M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1' vector-effect='non-scaling-stroke'%3E%3C/path%3E%3C/svg%3E");
    mask-size: cover;
  }

  &:hover [data-code-block-copy],
  & [data-code-block-copy]:focus {
    @apply opacity-100;
  }

  & [data-code-block-copy][data-copied="true"] {
    @apply bg-black opacity-100 dark:bg-gray-100;
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12' vector-effect='non-scaling-stroke'%3E%3C/polyline%3E%3C/svg%3E");
    mask-size: cover;
  }
}
